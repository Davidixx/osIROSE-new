CMAKE_MINIMUM_REQUIRED(VERSION 2.8 FATAL_ERROR)
PROJECT("osIROSE")

LIST(APPEND CMAKE_MODULE_PATH "${CMAKE_SOURCE_DIR}/cmake")

SET(VERSION_MAJOR 1)
SET(VERSION_MINOR 0)
SET(VERSION_PATCH 0)
SET(VERSION "${VERSION_MAJOR}.${VERSION_MINOR}.${VERSION_PATCH}")

# Evaluate ABI version number.
MATH(EXPR PROJECT_ABI_VERSION_SUFFIX "${VERSION_MAJOR} * 10000 + ${VERSION_MINOR} * 100 + ${VERSION_PATCH} * 1")

SET(PROJECT_ABI_VERSION v${PROJECT_ABI_VERSION_SUFFIX})

SET(GTEST_DIR ${PROJECT_SOURCE_DIR}/tools/googletest/googletest)
SET(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/obj)
SET(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib)
SET(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/bin)
SET(COV_SRC_LIST "" CACHE INTERNAL "")
SET(CMAKE_CXX_STANDARD 11)

OPTION(PROJECT_DEBUG "Enable debugging messages support" ON)
OPTION(ENABLE_TESTING "Enable testing" OFF)
OPTION(ENABLE_TESTING_COVERAGE, "Enable generating code coverage report" OFF)

ADD_SUBDIRECTORY(src)

